#pragma once

/*
*                 +--- data
*                 |   
*                 |   table: tbl_page_hdr
*                 v   index: idx_page_hdr
*     +-----------+-----------------------------------+
*     |.next_free.|.index_page_hdr.<->.table_page_hdr.|
*     +-----------+-----------------------------------+
*     |...............................................|
*     +-----------------------------------------------+
*     |...............................................|
*     +-----------------------------------------------+
*     |...............................................|
*     +-----------------------------------------------+
*     |...............................................|
*     +-----------------------------------------------+
*     |...............................................|
*     +-----------------------------------------------+
*     |...............................................|
*     +-----------------------------------------------+
*     |...............................................|
*     +-----------------------------------------------+
*/

class file_handle;

class page_handle
{
    friend class file_handle;
private:
    int   page_;
    char* data_;
public:
    page_handle();
    ~page_handle();
    page_handle(const page_handle& handle);
    page_handle& operator=(const page_handle& handle);

    int page() const { return page_; }
    char* data() const { return data_; }
};